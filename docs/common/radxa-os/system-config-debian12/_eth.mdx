主要介绍如何连接有线网络和测试网络带宽。

## 连接有线网络

使用网线连接主板的以太网接口和路由器的以太网接口，即可连接有线网络。

连接成功后，可以打开终端输入 `ip a` 命令查看网络连接的详细信息。

<NewCodeBlock tip="radxa@device$" type="device">

```
ip a
```

</NewCodeBlock>

终端会输出类似如下信息：其中 `192.168.2.186` 就是路由器分配的 IP 地址。

```
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
inet 127.0.0.1/8 scope host lo
valid_lft forever preferred_lft forever
inet6 ::1/128 scope host
valid_lft forever preferred_lft forever
2: sit0@NONE: <NOARP> mtu 1480 qdisc noop state DOWN group default qlen 1000
link/sit 0.0.0.0 brd 0.0.0.0
3: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc mq state UP group default qlen 1000
link/ether 00:e8:ec:f4:6f:8b brd ff:ff:ff:ff:ff:ff
inet 192.168.2.186/24 brd 192.168.2.255 scope global dynamic noprefixroute eth0
valid_lft 3212sec preferred_lft 3212sec
inet6 240e:3b7:3240:6e00::b09/128 scope global dynamic noprefixroute
valid_lft 3210sec preferred_lft 3210sec
inet6 fdaa::b09/128 scope global dynamic noprefixroute
valid_lft 3210sec preferred_lft 3210sec
inet6 fdaa::7ebe:84a2:306f:4271/64 scope global noprefixroute
valid_lft forever preferred_lft forever
inet6 240e:3b7:3240:6e00:9f8b:e83d:3c56:18e5/64 scope global dynamic noprefixroute
valid_lft 219073sec preferred_lft 132673sec
inet6 fe80::f69d:bf6f:3d68:cef1/64 scope link noprefixroute
valid_lft forever preferred_lft forever
4: wlan0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc mq state DOWN group default qlen 1000
link/ether 76:13:0d:bc:43:06 brd ff:ff:ff:ff:ff:ff permaddr 2c:c6:82:85:8d:fe
```

## 测试网络带宽

使用 `iperf` 工具来测试网络带宽（吞吐量）性能，建议多次测试取平均值。

### 测试前提

- 硬件设备

您需要两台设备，其中一台设备作为服务端，另一台设备作为客户端。

服务端：PC、服务器等设备。

客户端：瑞莎主板。

- 同一局域网

服务端和客户端需要处于同一局域网，彼此可以 ping 通。

### 安装 iperf

服务端和客户端都需要安装 `iperf`。

<NewCodeBlock tip="radxa@device$ & Linux$" type="device">

```
sudo apt update
sudo apt install iperf
```

</NewCodeBlock>

### 测试步骤

#### 服务端

打开命令行终端，输入以下命令启动服务端：

<NewCodeBlock tip="Linux" type="device">

```
iperf -s
```

</NewCodeBlock>

成功启动后，终端会输出类似如下信息：

```
---

## Server listening on 5201 (test #1)
```

:::tip
若系统提示 `iperf3: error - unable to start listener for connections: Address already in use`，说明 iperf3 进程占用了 5201 端口。

解决办法：

1. 查看 iperf3 的进程

<NewCodeBlock tip="Linux$" type="host">

```
ps -ef | grep iperf3
```

</NewCodeBlock>

2. 终止 iperf3 进程：将 `<PID>` 替换为 iperf3 进程的 PID。

<NewCodeBlock tip="Linux$" type="host">

```
sudo kill <PID>
```

</NewCodeBlock>
:::

#### 客户端

1. 上传测试

打开命令行终端，输入以下命令测试客户端上传网络带宽：将 `<server_ip>` 替换为实际的服务端 IP 地址（可以通过 `ip a` 命令查看）。

<NewCodeBlock tip="radxa@device$" type="device">

```
iperf -c <server_ip> -t <time>

# 示例

iperf -c 192.168.2.186 -t 60
```

</NewCodeBlock>

参数说明：

- `<server_ip>`：服务端 IP 地址。
- `<time>`：测试时间，单位为秒。

2. 下载测试

打开命令行终端，输入以下命令测试客户端下载网络带宽：将 `<server_ip>` 替换为实际的服务端 IP 地址（可以通过 `ip a` 命令查看）。

<NewCodeBlock tip="radxa@device$" type="device">

```
iperf -c <server_ip> -t <time> -R

# 示例

iperf -c 192.168.2.186 -t 60 -R
```

</NewCodeBlock>

参数说明：

- `<server_ip>`：服务端 IP 地址。
- `<time>`：测试时间，单位为秒。
- `-R`：反向测试，即客户端作为服务端，服务端作为客户端。
