import { Image } from "@site/src/utils/docs";

## Prerequisites

You need to have Visual Studio Code and Docker environment set up in advance, then use Dev Container to run the RadxaOS SDK (rsdk) compilation environment.

:::info Reference Tutorial

You can follow the tutorial below to complete the environment setup for RadxaOS SDK (rsdk) development.

- [Environment Setup](./install-env)
  :::

## Download rsdk Source Code

Use the `git clone` command to clone the RadxaOS SDK (rsdk) source code.

<NewCodeBlock tip="Linux@host$" type="host">

```
git clone --recurse-submodules <git_repo_url>
```

</NewCodeBlock>

Replace `<git_repo_url>` with: {props.git_url}

## Start Development Environment

Open the Radxa OS SDK (rsdk) source code directory with Visual Studio Code: The `Dev Container` extension will usually automatically detect the configuration file in the folder and prompt you to reopen in the container development environment.

:::tip
When starting the development environment for the first time, Dev Containers will automatically download and install dependencies. Please be patient as this may take some time.
:::

1. Click the `Remote` option in the bottom-left corner
2. Select the `Reopen in Container` option

<div style={{ textAlign: "center" }}>
  <img
    src="/en/img/common/radxa-os/low-level-dev/vscode-dev-container-reopen.webp"
    style={{ width: "100%", maxWidth: "1200px" }}
  />
</div>

## Compile Radxa OS

After starting the development environment, use the `rsdk` command to run the TUI interface.

<NewCodeBlock tip="PC@host$" type="host">

```
rsdk
```

</NewCodeBlock>

```
┌─────────────────┤ RSDK ├──────────────────┐
│ Please select a task:                     │
│                                           │
│            Build system image             │
│            =========                      │
│            About                          │
│                                           │
│         <Ok>             <Cancel>         │
│                                           │
└───────────────────────────────────────────┘
```

Select the `Build system image` option to further choose the target board model you want to build for.

```
┌─────────────────┤ RSDK ├──────────────────┐
│ Please select a product:                  │
│                                           │
│  (*) radxa-cubie-a7z                      │
│                                           │
│         <Ok>             <Cancel>         │
│                                           │
└───────────────────────────────────────────┘
```

After selecting `yes`, the Radxa OS build process will start, and rsdk will automatically complete the image compilation.

```
┌─────────────────┤ RSDK ├───────────────────────┐
│                                                │
│ Are you sure to build for 'radxa-cubie-a7z'?   │
│                                                │
│                                                │
│          <Yes>             <No>                │
│                                                │
└────────────────────────────────────────────────┘
```

After compilation is complete, a folder corresponding to the board model and system version will be generated in the `out` directory, containing the Radxa OS image named `output.img`.
